var AlpineRouter=function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="D:\\Chris\\Workspace\\alpine\\router",__webpack_require__(__webpack_require__.s=0)}([function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),a=function(){function Router(e){var t=this;if(_classCallCheck(this,Router),this._routes=[],Array.isArray(e)){var r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;this._routes.push(u)}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}}else console.error('Router: Failed to create router.\nDid you enter an array of objects in the following format [{ path: "example", template: "<h1>Example</h1>"}]?');this._getWindowUrlAndNavigate(),window.onhashchange=function(){t._getWindowUrlAndNavigate()}}return n(Router,[{key:"getPathTokens",value:function(e){var t=e.split("/");if(""===t[0]&&""===t[1]){t=[""]}return t}},{key:"sanitizePath",value:function(e){return"#"===e.charAt(0)&&(e=e.slice(1,e.length)),"/"===e.charAt(0)&&"/"!==e&&(e=e.slice(1,e.length)),e}},{key:"navigate",value:function(e){e=this.sanitizePath(e);var t=this.getPathTokens(e),r=new Map,n=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;r.set(l,!1)}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}var c=this._getRoutes(this._routes,t,r);return c.length>0?(this._changeBrowserUrl(e),this._addTemplatesToDom(c),!0):(console.error("Router: No route found for path '"+e+"'."),!1)}},{key:"_getRoutes",value:function(e,t,r,n){n=n||[];var a=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value,s=this.getPathTokens(c.path);r=this._compareTokens(s,t,r);var _=this._countConsecutiveTokens(r),f=_===r.size,h=_<r.size&&0!==_;if(f)return n.push(c),n;if(h&&c.children)return n.push(c),this._getRoutes(c.children,t,r,n)}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}return[]}},{key:"_compareTokens",value:function(e,t,r){var n=0,a=!0,o=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;r.get(c)&&n++}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}n>0&&(t=t.slice(n,e.length+1));for(var s=0;s<t.length;s++){var _=e[s],f=t[s];if(!r.get(f)){if(void 0===_)return r;_===f&&r.set(f,!0)}}return r}},{key:"_countConsecutiveTokens",value:function(e){var t=0,r=!0,n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;if(!l[1]||!r)return t;t++}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return t}},{key:"_getWindowUrlAndNavigate",value:function(){if(this._baseHrefValue){var e=window.location.pathname;return e=e.substring(this._baseHrefValue.length,e.length),this.navigate(e)}this.navigate(window.location.hash)}},{key:"_changeBrowserUrl",value:function(e){var t=this._getAndAppendBaseHref(e);history.pushState("",e,t)}},{key:"_getAndAppendBaseHref",value:function(e){"/"===e&&(e="");var t=this._baseHrefValue;return t&&"/"!==t?t+e:t&&"/"===t?e:"#/"+e}},{key:"_addTemplatesToDom",value:function(e){for(var t=this,r=function(r){var n=document.getElementsByTagName("router-outlet");n[r]||console.error("Router: router-outlet missing."),e[r].template?n[r].innerHTML=e[r].template:t._getRemoteTemplate(e[r].templateUrl).then(function(e){n[r].innerHTML=e}).catch(function(e){console.error("Router: Failed to get template.\n"+e)})},n=0;n<e.length;n++)r(n)}},{key:"_getRemoteTemplate",value:function(e){return new Promise(function(t,r){fetch(e).then(function(e){return e.text()}).then(function(e){return t(e)}).catch(function(e){return r(e)})})}},{key:"routes",get:function(){return this._routes}},{key:"_baseHrefValue",get:function(){var e=document.getElementsByTagName("base")[0];if(e)return e.attributes.getNamedItem("href").value}}]),Router}();t.default=a}]);
//# sourceMappingURL=alpine-router.js.map