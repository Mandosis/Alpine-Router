{"version":3,"sources":["webpack:///router.js","webpack:///webpack/bootstrap 307380751366894bee03","webpack:///./src/router.ts"],"names":["Router","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","routes","this","_routes","Array","isArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","route","push","err","return","console","error","path","tokens","split","sanitizePath","pathTokens","getPathTokens","matchResult","_getRoute","wildCardResult","_changeBrowserUrl","charAt","slice","candidateTokens","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","routeTokens","tokenMap","_compareTokens","consecutiveCount","_getConsecutiveTokenMatchCount","isFullPathMatch","size","isPartialMatch","children","remainingTokens","Map","pathToken","condidateToken","isMatch","set","count","isLastTokenAMatch","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","token","finalPath","_getAndAppendBaseHref","history","pushState","baseHref","_baseHrefValue","baseElement","document","getElementsByTagName","attributes","getNamedItem","default"],"mappings":"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","file":"router.js","sourcesContent":["var Router =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"D:\\\\Chris\\\\Workspace\\\\alpine\\\\router\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Router = function () {\n    function Router(routes) {\n        _classCallCheck(this, Router);\n\n        this._routes = [];\n        if (Array.isArray(routes)) {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = routes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var route = _step.value;\n\n                    this._routes.push(route);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        } else {\n            console.error('Router was not created. Did you enter an array of objects in the following format [{ path: \"example\", template: \"<h1>Example</h1>\"}]?');\n        }\n    }\n\n    _createClass(Router, [{\n        key: 'getPathTokens',\n        value: function getPathTokens(path) {\n            var tokens = path.split('/');\n            if (tokens[0] === '' && tokens[1] === '') {\n                var token = path;\n                tokens = [''];\n            }\n            return tokens;\n        }\n    }, {\n        key: 'navigate',\n        value: function navigate(path) {\n            path = this.sanitizePath(path);\n            var pathTokens = this.getPathTokens(path);\n            var matchResult = this._getRoute(this.routes, pathTokens);\n            var wildCardResult = void 0;\n            if (!matchResult) {\n                wildCardResult = this._getRoute(this.routes, ['*']);\n            }\n            if (matchResult || wildCardResult) {\n                this._changeBrowserUrl(path);\n                return true;\n            }\n            console.error('Router: Unable to find route for \\'' + path + '\\'');\n            return false;\n        }\n    }, {\n        key: 'sanitizePath',\n        value: function sanitizePath(path) {\n            if (path.charAt(0) === '#') {\n                path = path.slice(1, path.length);\n            }\n            if (path.charAt(0) === '/' && path !== '/') {\n                path = path.slice(1, path.length);\n                ;\n            }\n            return path;\n        }\n    }, {\n        key: '_getRoute',\n        value: function _getRoute(routes, candidateTokens) {\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = routes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var route = _step2.value;\n\n                    var routeTokens = this.getPathTokens(route.path);\n                    var tokenMap = this._compareTokens(routeTokens, candidateTokens);\n                    var consecutiveCount = this._getConsecutiveTokenMatchCount(tokenMap);\n                    var isFullPathMatch = consecutiveCount === tokenMap.size;\n                    var isPartialMatch = consecutiveCount < tokenMap.size && consecutiveCount !== 0;\n                    if (isFullPathMatch) {\n                        return route;\n                    }\n                    if (isPartialMatch && route.children) {\n                        var remainingTokens = routeTokens.slice(consecutiveCount - 1, routeTokens.length);\n                        return this._getRoute(route.children, remainingTokens);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            return undefined;\n        }\n    }, {\n        key: '_compareTokens',\n        value: function _compareTokens(pathTokens, candidateTokens) {\n            var tokenMap = new Map();\n            for (var i = 0; i < pathTokens.length; i++) {\n                var pathToken = pathTokens[i];\n                var condidateToken = candidateTokens[i];\n                var isMatch = pathToken === condidateToken;\n                tokenMap.set(pathToken, isMatch);\n            }\n            return tokenMap;\n        }\n    }, {\n        key: '_getConsecutiveTokenMatchCount',\n        value: function _getConsecutiveTokenMatchCount(tokenMap) {\n            var count = 0;\n            var isLastTokenAMatch = true;\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = tokenMap[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var token = _step3.value;\n\n                    if (token[1] && isLastTokenAMatch) {\n                        count++;\n                    } else {\n                        return count;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            return count;\n        }\n    }, {\n        key: '_changeBrowserUrl',\n        value: function _changeBrowserUrl(path) {\n            var finalPath = this._getAndAppendBaseHref(path);\n            history.pushState('', path, finalPath);\n        }\n    }, {\n        key: '_getAndAppendBaseHref',\n        value: function _getAndAppendBaseHref(path) {\n            if (path === '/') {\n                path = '';\n            }\n            var baseHref = this._baseHrefValue;\n            if (baseHref && baseHref !== '/') {\n                return baseHref + path;\n            }\n            if (baseHref && baseHref === '/') {\n                return path;\n            }\n            return '#/' + path;\n        }\n    }, {\n        key: 'routes',\n        get: function get() {\n            return this._routes;\n        }\n    }, {\n        key: '_baseHrefValue',\n        get: function get() {\n            var baseElement = document.getElementsByTagName('base')[0];\n            var baseHref = void 0;\n            if (baseElement) {\n                return baseElement.attributes.getNamedItem('href').value;\n            }\n        }\n    }]);\n\n    return Router;\n}();\n\nexports.default = Router;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// router.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"D:\\\\Chris\\\\Workspace\\\\alpine\\\\router\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 307380751366894bee03","/**\r\n * Interface for route data\r\n */\r\nexport interface Route {\r\n  path: string;\r\n  template?: string;\r\n  templateUrl?: string;\r\n  children?: Route[];\r\n}\r\n\r\n/**\r\n * Client-side router for single page applications\r\n */\r\nexport default class Router {\r\n  private _routes: Route[] = [];\r\n\r\n  constructor(routes: Route[]) {\r\n\r\n    if (Array.isArray(routes)) {\r\n      for (let route of routes) {\r\n        this._routes.push(route);\r\n      }\r\n    } else {\r\n      console.error('Router was not created. Did you enter an array of objects in the following format [{ path: \"example\", template: \"<h1>Example</h1>\"}]?')\r\n    }\r\n  }\r\n\r\n  get routes(): Route[] {\r\n    return this._routes;\r\n  }\r\n\r\n  /**\r\n   * Get tokens from a path\r\n   * \r\n   * @param path  Path to get tokens from\r\n   * @returns     List of tokens from path\r\n   */\r\n  getPathTokens(path: string): string[] {\r\n    let tokens = path.split('/');\r\n\r\n    if (tokens[0] === '' && tokens[1] === '') {\r\n      let token = path;\r\n      tokens = [''];\r\n    }\r\n    \r\n    return tokens;\r\n  }\r\n\r\n  /**\r\n   * Navigate to new path\r\n   * \r\n   * @param path Path to navigate to.\r\n   * @returns Success of navigation.\r\n   */\r\n  public navigate(path: string): boolean {\r\n\r\n    path = this.sanitizePath(path);\r\n    const pathTokens = this.getPathTokens(path);\r\n    let matchResult = this._getRoute(this.routes, pathTokens);\r\n    let wildCardResult: Route;\r\n\r\n    if (!matchResult) {\r\n      wildCardResult = this._getRoute(this.routes, ['*']);\r\n    }\r\n\r\n    if (matchResult || wildCardResult) {\r\n      this._changeBrowserUrl(path);\r\n      // render view\r\n      return true\r\n    }\r\n\r\n    console.error(`Router: Unable to find route for '${path}'`)\r\n    \r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Sanitize path and remove # and / from the beginning\r\n   * \r\n   * @param path  Path to sanitize\r\n   * @return      Sanitized path\r\n   */\r\n  private sanitizePath(path: string): string {\r\n    if (path.charAt(0) === '#') {\r\n        path = path.slice(1, path.length);\r\n    }\r\n\r\n    if (path.charAt(0) === '/' && path !== '/') {\r\n        path = path.slice(1, path.length);;\r\n    }\r\n\r\n    return path;\r\n   }\r\n\r\n  /**\r\n   * Get matching route\r\n   * \r\n   * @param routes            Route to match\r\n   * @param candidateTokens   Tokens to match a route with\r\n   */\r\n  private _getRoute(routes: Route[], candidateTokens: string[]): Route {\r\n    for (let route of routes) {\r\n      const routeTokens = this.getPathTokens(route.path);\r\n      const tokenMap = this._compareTokens(routeTokens, candidateTokens);\r\n      const consecutiveCount = this._getConsecutiveTokenMatchCount(tokenMap);\r\n      const isFullPathMatch = (consecutiveCount === tokenMap.size);\r\n      const isPartialMatch = (consecutiveCount < tokenMap.size && consecutiveCount !== 0);\r\n\r\n      if (isFullPathMatch) {\r\n        return route;\r\n      }\r\n      \r\n      if (isPartialMatch && route.children) {\r\n        const remainingTokens = routeTokens.slice(consecutiveCount - 1, routeTokens.length);\r\n        return this._getRoute(route.children, remainingTokens);\r\n      }\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Compare tokens\r\n   * \r\n   * @param pathTokens        Tokens to check against\r\n   * @param candidateTokens   Candidate tokens\r\n   * @returns                 Map of tokens with match status\r\n   */\r\n  private _compareTokens(pathTokens: string[], candidateTokens: string[]) {\r\n    let tokenMap: Map<string, boolean> = new Map();\r\n\r\n    for (let i = 0; i < pathTokens.length; i++) {\r\n      const pathToken = pathTokens[i];\r\n      const condidateToken = candidateTokens[i];\r\n\r\n      const isMatch = (pathToken === condidateToken);\r\n\r\n      tokenMap.set(pathToken, isMatch)\r\n    }\r\n\r\n    return tokenMap;\r\n  }\r\n\r\n  /**\r\n   * Gets consecutive token match count\r\n   * \r\n   * @param tokenMap  Map of tokens\r\n   * @return          Consecutive match count\r\n   */\r\n  private _getConsecutiveTokenMatchCount(tokenMap: Map<string, boolean>) {\r\n    let count = 0;\r\n    let isLastTokenAMatch = true;\r\n\r\n    for (let token of tokenMap) {\r\n      if (token[1] && isLastTokenAMatch) {\r\n        count++;\r\n      } else {\r\n        return count;\r\n      }\r\n    }\r\n\r\n    return count;\r\n  }\r\n\r\n  /**\r\n   * Changes url in address bar after the domain name\r\n   * \r\n   * @param path  Path to change url to\r\n   */\r\n  private _changeBrowserUrl(path: string) {\r\n    let finalPath = this._getAndAppendBaseHref(path);\r\n    history.pushState('', path, finalPath);\r\n  }\r\n\r\n  /**\r\n   * Gets and appends the base href value if it exists\r\n   * \r\n   * @param url       URL for route\r\n   * @return          modified url adjusted for base tag if it exists\r\n   */\r\n  private _getAndAppendBaseHref(path: string) {\r\n    if (path === '/') { path = '' }\r\n    let baseHref = this._baseHrefValue;\r\n\r\n    if (baseHref && baseHref !== '/') {\r\n      return baseHref + path;\r\n    }\r\n\r\n    if (baseHref && baseHref === '/') {\r\n      return path;\r\n    }\r\n\r\n    return '#/' + path;\r\n  }\r\n\r\n  /**\r\n   * Get value of of the href attribute in the base tag if it exists\r\n   * \r\n   * @returns Value of href attributes\r\n   */\r\n  private get _baseHrefValue(): string {\r\n    let baseElement: HTMLElement = document.getElementsByTagName('base')[0];\r\n    let baseHref: string;\r\n\r\n    if (baseElement) {\r\n      return baseElement\r\n        .attributes\r\n        .getNamedItem('href')\r\n        .value;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/router.ts"],"sourceRoot":""}