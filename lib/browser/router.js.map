{"version":3,"sources":["webpack:///router.js","webpack:///webpack/bootstrap 6beaac9a833d8b28cc83","webpack:///./src/router.ts"],"names":["Router","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","routes","this","_routes","Array","isArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","route","push","err","return","console","error","path","tokens","split","charAt","slice","url","sanitizePath","urlTokens","getPathTokens","urlMap","Map","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","token","set","result","_getRoute","log","_changeBrowserUrl","_addTemplatesToDom","routeHistory","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","routeTokens","_compareTokens","consecutiveCount","_countConsecutiveTokens","isFullPathMatch","size","isPartialMatch","children","seen","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","it","tokenMap","count","isLastTokenAMatch","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","finalPath","_getAndAppendBaseHref","history","pushState","baseHref","_baseHrefValue","outlets","document","getElementsByTagName","innerHTML","template","baseElement","attributes","getNamedItem","default"],"mappings":"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","file":"router.js","sourcesContent":["var Router =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"D:\\\\Chris\\\\Workspace\\\\alpine\\\\router\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Router = function () {\n    function Router(routes) {\n        _classCallCheck(this, Router);\n\n        this._routes = [];\n        if (Array.isArray(routes)) {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = routes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var route = _step.value;\n\n                    this._routes.push(route);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        } else {\n            console.error('Router was not created. Did you enter an array of objects in the following format [{ path: \"example\", template: \"<h1>Example</h1>\"}]?');\n        }\n    }\n\n    _createClass(Router, [{\n        key: 'getPathTokens',\n        value: function getPathTokens(path) {\n            var tokens = path.split('/');\n            if (tokens[0] === '' && tokens[1] === '') {\n                var token = path;\n                tokens = [''];\n            }\n            return tokens;\n        }\n    }, {\n        key: 'sanitizePath',\n        value: function sanitizePath(path) {\n            if (path.charAt(0) === '#') {\n                path = path.slice(1, path.length);\n            }\n            if (path.charAt(0) === '/' && path !== '/') {\n                path = path.slice(1, path.length);\n                ;\n            }\n            return path;\n        }\n    }, {\n        key: 'navigate',\n        value: function navigate(url) {\n            url = this.sanitizePath(url);\n            var urlTokens = this.getPathTokens(url);\n            var urlMap = new Map();\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = urlTokens[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var token = _step2.value;\n\n                    urlMap.set(token, false);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            var result = this._getRoute(this._routes, urlTokens, urlMap);\n            console.log(result);\n            if (result.length > 0) {\n                this._changeBrowserUrl(url);\n                this._addTemplatesToDom(result);\n                return true;\n            }\n            return false;\n        }\n    }, {\n        key: '_getRoute',\n        value: function _getRoute(routes, urlTokens, urlMap, routeHistory) {\n            routeHistory = routeHistory || [];\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = routes[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var route = _step3.value;\n\n                    var routeTokens = this.getPathTokens(route.path);\n                    urlMap = this._compareTokens(routeTokens, urlTokens, urlMap);\n                    var consecutiveCount = this._countConsecutiveTokens(urlMap);\n                    var isFullPathMatch = consecutiveCount === urlMap.size;\n                    var isPartialMatch = consecutiveCount < urlMap.size && consecutiveCount !== 0;\n                    if (isFullPathMatch) {\n                        routeHistory.push(route);\n                        return routeHistory;\n                    }\n                    if (isPartialMatch && route.children) {\n                        console.log('Partial Match hit');\n                        routeHistory.push(route);\n                        return this._getRoute(route.children, urlTokens, urlMap, routeHistory);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n\n            return [];\n        }\n    }, {\n        key: '_compareTokens',\n        value: function _compareTokens(routeTokens, urlTokens, urlMap) {\n            var seen = 0;\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = urlTokens[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var token = _step4.value;\n\n                    if (urlMap.get(token)) {\n                        seen++;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                        _iterator4.return();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n\n            if (seen > 0) {\n                urlTokens = urlTokens.slice(seen, routeTokens.length + 1);\n            }\n            for (var it = 0; it < urlTokens.length; it++) {\n                var route = routeTokens[it];\n                var url = urlTokens[it];\n                if (!urlMap.get(url)) {\n                    if (route === undefined) {\n                        return urlMap;\n                    }\n                    if (route === url) {\n                        urlMap.set(url, true);\n                    }\n                }\n            }\n            return urlMap;\n        }\n    }, {\n        key: '_countConsecutiveTokens',\n        value: function _countConsecutiveTokens(tokenMap) {\n            var count = 0;\n            var isLastTokenAMatch = true;\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = tokenMap[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var token = _step5.value;\n\n                    if (token[1] && isLastTokenAMatch) {\n                        count++;\n                    } else {\n                        return count;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            return count;\n        }\n    }, {\n        key: '_changeBrowserUrl',\n        value: function _changeBrowserUrl(path) {\n            var finalPath = this._getAndAppendBaseHref(path);\n            history.pushState('', path, finalPath);\n        }\n    }, {\n        key: '_getAndAppendBaseHref',\n        value: function _getAndAppendBaseHref(path) {\n            if (path === '/') {\n                path = '';\n            }\n            var baseHref = this._baseHrefValue;\n            if (baseHref && baseHref !== '/') {\n                return baseHref + path;\n            }\n            if (baseHref && baseHref === '/') {\n                return path;\n            }\n            return '#/' + path;\n        }\n    }, {\n        key: '_addTemplatesToDom',\n        value: function _addTemplatesToDom(routes) {\n            for (var it = 0; it < routes.length; it++) {\n                console.log(it, routes);\n                var outlets = document.getElementsByTagName('router-outlet');\n                console.log('outlets', outlets);\n                outlets[it].innerHTML = routes[it].template;\n            }\n        }\n    }, {\n        key: 'routes',\n        get: function get() {\n            return this._routes;\n        }\n    }, {\n        key: '_baseHrefValue',\n        get: function get() {\n            var baseElement = document.getElementsByTagName('base')[0];\n            var baseHref = void 0;\n            if (baseElement) {\n                return baseElement.attributes.getNamedItem('href').value;\n            }\n        }\n    }]);\n\n    return Router;\n}();\n\nexports.default = Router;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// router.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"D:\\\\Chris\\\\Workspace\\\\alpine\\\\router\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6beaac9a833d8b28cc83","/**\r\n * Interface for route data\r\n */\r\nexport interface Route {\r\n  path: string;\r\n  template?: string;\r\n  templateUrl?: string;\r\n  children?: Route[];\r\n}\r\n\r\n/**\r\n * Client-side router for single page applications\r\n */\r\nexport default class Router {\r\n  private _routes: Route[] = [];\r\n\r\n  constructor(routes: Route[]) {\r\n\r\n    if (Array.isArray(routes)) {\r\n      for (let route of routes) {\r\n        this._routes.push(route);\r\n      }\r\n    } else {\r\n      console.error('Router was not created. Did you enter an array of objects in the following format [{ path: \"example\", template: \"<h1>Example</h1>\"}]?')\r\n    }\r\n  }\r\n\r\n  get routes(): Route[] {\r\n    return this._routes;\r\n  }\r\n\r\n  /**\r\n   * Get tokens from a path\r\n   * \r\n   * @param path  Path to get tokens from\r\n   * @returns     List of tokens from path\r\n   */\r\n  getPathTokens(path: string): string[] {\r\n    let tokens = path.split('/');\r\n\r\n    if (tokens[0] === '' && tokens[1] === '') {\r\n      let token = path;\r\n      tokens = [''];\r\n    }\r\n    \r\n    return tokens;\r\n  }\r\n\r\n  /**\r\n   * Sanitize path and remove # and / from the beginning\r\n   * \r\n   * @param path  Path to sanitize\r\n   * @return      Sanitized path\r\n   */\r\n  private sanitizePath(path: string): string {\r\n    if (path.charAt(0) === '#') {\r\n        path = path.slice(1, path.length);\r\n    }\r\n\r\n    if (path.charAt(0) === '/' && path !== '/') {\r\n        path = path.slice(1, path.length);;\r\n    }\r\n\r\n    return path;\r\n   }\r\n\r\n  /**\r\n   * Navigate to new path\r\n   * \r\n   * @param path Path to navigate to.\r\n   * @returns Success of navigation.\r\n   */\r\n  public navigate(url: string): boolean {\r\n\r\n    url = this.sanitizePath(url);\r\n\r\n    // Get url tokens\r\n    let urlTokens = this.getPathTokens(url);\r\n    let urlMap = new Map();\r\n    \r\n    for (let token of urlTokens) {\r\n      urlMap.set(token, false);\r\n    }\r\n\r\n    let result = this._getRoute(this._routes, urlTokens, urlMap);\r\n\r\n    console.log(result);\r\n\r\n    if (result.length > 0) {\r\n      this._changeBrowserUrl(url);\r\n      this._addTemplatesToDom(result);\r\n      return true;\r\n    } \r\n\r\n\r\n    return false;\r\n  }\r\n\r\n  private _getRoute(routes: Route[], urlTokens: string[], urlMap: Map<string, boolean>, routeHistory?: Route[]): Route[] {\r\n    routeHistory = routeHistory || [];\r\n\r\n    // iterate through routes\r\n    for (let route of routes) {\r\n      // get route path tokens\r\n      const routeTokens = this.getPathTokens(route.path);\r\n      urlMap = this._compareTokens(routeTokens, urlTokens, urlMap);\r\n      const consecutiveCount = this._countConsecutiveTokens(urlMap);\r\n      const isFullPathMatch = (consecutiveCount === urlMap.size);\r\n      const isPartialMatch = (consecutiveCount < urlMap.size && consecutiveCount !== 0);\r\n\r\n      if (isFullPathMatch) {\r\n        routeHistory.push(route);\r\n        return routeHistory;\r\n      }\r\n\r\n      if (isPartialMatch && route.children) {\r\n        console.log('Partial Match hit');\r\n        routeHistory.push(route);\r\n        return this._getRoute(route.children, urlTokens, urlMap, routeHistory);\r\n      }\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  private _compareTokens(routeTokens: string[], urlTokens: string[], urlMap: Map<string, boolean>) {\r\n    // for loop to count number of seen tokens\r\n    let seen = 0;\r\n    for (let token of urlTokens) {\r\n      if (urlMap.get(token)) { seen++;}\r\n    }\r\n\r\n    if (seen > 0) {\r\n      urlTokens = urlTokens.slice(seen, routeTokens.length + 1);\r\n    }\r\n\r\n    // compare route tokens with url tokens\r\n    for (let it = 0; it < urlTokens.length; it++) {\r\n      const route = routeTokens[it];\r\n      const url = urlTokens[it];\r\n\r\n      if (!urlMap.get(url)) {\r\n        if (route === undefined) { return urlMap; }\r\n\r\n        if (route === url) {\r\n          urlMap.set(url, true);\r\n        }\r\n      }\r\n    }\r\n\r\n    return urlMap;\r\n  }\r\n\r\n\r\n  /**\r\n   * Gets consecutive token match count\r\n   * \r\n   * @param tokenMap  Map of tokens\r\n   * @return          Consecutive match count\r\n   */\r\n  private _countConsecutiveTokens(tokenMap: Map<string, boolean>) {\r\n    let count = 0;\r\n    let isLastTokenAMatch = true;\r\n\r\n    for (let token of tokenMap) {\r\n      if (token[1] && isLastTokenAMatch) {\r\n        count++;\r\n      } else {\r\n        return count;\r\n      }\r\n    }\r\n\r\n    return count;\r\n  }\r\n\r\n  /**\r\n   * Changes url in address bar after the domain name\r\n   * \r\n   * @param path  Path to change url to\r\n   */\r\n  private _changeBrowserUrl(path: string) {\r\n    let finalPath = this._getAndAppendBaseHref(path);\r\n    history.pushState('', path, finalPath);\r\n  }\r\n\r\n  /**\r\n   * Gets and appends the base href value if it exists\r\n   * \r\n   * @param url       URL for route\r\n   * @return          modified url adjusted for base tag if it exists\r\n   */\r\n  private _getAndAppendBaseHref(path: string) {\r\n    if (path === '/') { path = '' }\r\n    let baseHref = this._baseHrefValue;\r\n\r\n    if (baseHref && baseHref !== '/') {\r\n      return baseHref + path;\r\n    }\r\n\r\n    if (baseHref && baseHref === '/') {\r\n      return path;\r\n    }\r\n\r\n    return '#/' + path;\r\n  }\r\n\r\n  /**\r\n   * Get value of of the href attribute in the base tag if it exists\r\n   * \r\n   * @returns Value of href attributes\r\n   */\r\n  private get _baseHrefValue(): string {\r\n    let baseElement: HTMLElement = document.getElementsByTagName('base')[0];\r\n    let baseHref: string;\r\n\r\n    if (baseElement) {\r\n      return baseElement\r\n        .attributes\r\n        .getNamedItem('href')\r\n        .value;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the matched routes and add the templates to the DOM\r\n   * \r\n   * @param routes    Matched routes\r\n   */\r\n  private _addTemplatesToDom(routes: Route[]): void {\r\n    for (let it = 0; it < routes.length; it++) {\r\n      console.log(it, routes);\r\n      const outlets = document.getElementsByTagName('router-outlet');\r\n      console.log('outlets', outlets)\r\n\r\n      outlets[it].innerHTML = routes[it].template;\r\n    }\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/router.ts"],"sourceRoot":""}